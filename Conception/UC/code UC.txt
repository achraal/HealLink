@startuml healLink_usecases_fixed
!theme plain
skinparam usecase {
  BackgroundColor #E3F2FD
  BorderColor #1976D2
}
skinparam actor {
  BackgroundColor #FFF3E0
  BorderColor #F57C00
}
skinparam rectangle {
  BackgroundColor white
}

title **HealLink** - Diagramme de Cas d'Utilisation

left to right direction

actor "Utilisateur\n(authentifié)" as user

rectangle "HealLink App" {

  (Consulter\ncampagnes médicales) as UC_Camp
  (Filtrer\ncampagnes) as UC_Filter
  (Visualiser\nsur carte) as UC_Map
  (Consulter\nstocks) as UC_Stock

  (Consulter\ncagnottes) as UC_Cag
  (Faire un don) as UC_Don

  (Générer\nQR Code) as UC_QRGen
  (Scanner\nQR Code) as UC_QRScan
  (Recevoir\nnotification - poke) as UC_Poke

  (Se déconnecter) as UC_Logout
  (Réinitialiser\nmot de passe) as UC_Reset
}

note top of user
Précondition globale :
Utilisateur authentifié via Firebase
end note

user --> UC_Camp
UC_Camp --> UC_Filter : <<extend>>
UC_Camp --> UC_Map : <<include>>
UC_Camp --> UC_Stock : <<include>>

user --> UC_Cag
user --> UC_Don
UC_Don --> UC_Cag : <<include>>

user --> UC_QRGen
user --> UC_QRScan
UC_QRScan --> UC_Poke : <<include>>
user --> UC_Poke

user --> UC_Logout
user --> UC_Reset

note right of UC_Don
  **CagnotteScreen**
  50/100/250 DH
  ou personnalisé
end note

note right of UC_QRScan
  **QrScanner**
  Poke utilisateur
  via WebSocket
end note

@enduml
